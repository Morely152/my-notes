---

---
--- 
> 声明：存在由AI生成的部分内容，仅供参考，请仔细甄别可能存在的错误。

# 一、原题展现

# P1957 口算练习题

## 原题链接

https://www.luogu.com.cn/problem/P1957

## 题目描述

王老师正在教简单算术运算。细心的王老师收集了 $i$ 道学生经常做错的口算题，并且想整理编写成一份练习。编排这些题目是一件繁琐的事情，为此他想用计算机程序来提高工作效率。王老师希望尽量减少输入的工作量，比如 $\texttt{5+8}$ 的算式最好只要输入 $\texttt 5$ 和 $\texttt 8$，输出的结果要尽量详细以方便后期排版的使用，比如对于上述输入进行处理后输出 $\texttt{5+8=13}$ 以及该算式的总长度 $6$。王老师把这个光荣的任务交给你，请你帮他编程实现以上功能。

## 输入格式

第一行一个整数 $i$。
接着的 $i$ 行为需要输入的算式，每行可能有三个数据或两个数据。
若该行为三个数据则第一个数据表示运算类型，$\texttt a$ 表示加法运算，$\texttt b$ 表示减法运算，$\texttt c$ 表示乘法运算，接着的两个数据表示参加运算的运算数。
若该行为两个数据，则表示本题的运算类型与上一题的运算类型相同，而这两个数据为运算数。

## 输出格式

输出 $2\times i$ 行。对于每个输入的算式，输出完整的运算式及结果，第二行输出该运算式的总长度。

## 输入输出样例 #1

### 输入 #1

```
4
a 64 46
275 125
c 11 99
b 46 64
```

### 输出 #1

```
64+46=110
9
275+125=400
11
11*99=1089
10
46-64=-18
9
```

## 说明/提示

### 【数据规模与约定】

对于 $50\%$ 的数据，输入的算式都有三个数据。
对于所有数据，$0<i\leq 50$，第一个算式一定有三个数据，运算数为非负整数且小于 $10000$。

--- 

# 二、题解示例

```cpp
#include <iostream>
#include <cstring>
using namespace std;

char operas[3] = {'+', '-', '*'};     // 感觉这里用枚举更合适

int main(void) {
    int n;
    cin >> n;
    cin.ignore();    // 吸收换行符，防止被getline()读取到
    string line;     // 读取到的每一行字符串输入

    while (n--) {
        getline(cin, line);  // 读取每一行输入
        char opera;          // 记录运算符
        int x, y;            // 输入中的两个数字
        int start = 0;       // 从哪一位开始读取数字

        if (line[0] == 'a' || line[0] == 'b' || line[0] == 'c') {
            opera = operas[line[0] - 'a']; // 如果有运算符，读取到opera中
            start = 2;                     // 从第3个（运算符+空格之后）开始读取数字
        } else {
            start = 0;                     // 没有运算符，直接从第一位开始读取数字
        }

        int temp = 0;
        for (int i = start; i < line.size(); i++) {
            if (line[i] != ' ') {
                temp = temp * 10 + (line[i] - '0'); // 读取到下一个空格之前的字符子串，赋值给x
            } else {                                // 遇到空格，将temp赋值给x之后清空，开始处理y的转换
                x = temp;
                temp = 0;
            }
        }
        y = temp;                                    // 第二个数值处理完毕，赋值给y
        
        int ans = 0;                                 // 计算数值运算的结果（这里处理的比较笨，大家有更好的思路欢迎提出建议）
        if (opera == '+') {
            ans = x + y;
        } else if (opera == '+') {
            ans = x + y;
        } else if (opera == '-') {
            ans = x - y;
        } else if (opera == '*') {
            ans = x * y;
        }

        // 拼接结果字符串然后输出，这里不直接输出数值的原因是，使用字符串更方便计算长度。
        string res = to_string(x) + opera + to_string(y) + '=' + to_string(ans);
        cout << res << endl << res.size() << endl;
    }
    
    return 0;
}
```

（上述程序可以通过测试，同时也存在改进空间，欢迎大家在评论区指出和讨论；个人观点，仅供参考。）