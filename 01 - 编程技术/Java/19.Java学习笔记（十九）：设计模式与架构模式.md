---

---
--- 
> 声明：本篇笔记部分摘自[Java教程-廖雪峰-2025-06-16](https://liaoxuefeng.com/books/java/introduction/index.html)，遵循[CC BY 4.0协议](https://creativecommons.org/licenses/by/4.0/legalcode.zh-hans)。
> 存在由AI生成的小部分内容，仅供参考，请仔细甄别可能存在的错误。
--- 
# 〇、引入

在软件开发中，**设计模式**和**架构模式**是两个重要的概念，它们帮助开发人员解决不同层次的问题。

- **设计模式（Design Pattern）**：是中低层级的、局部性的解决方案，用于解决类与对象之间的交互问题，提高代码的可复用性、可扩展性、可维护性。
	- 抽象层级较低，面向类/对象级设计
	- 解决的是局部问题，如对象创建、行为封装、接口设计等
	- 通常在编码阶段使用，变更成本较低

- **架构模式（Architectural Pattern）**：是高层级的、全局性的结构设计，定义了系统的主要组成部分（子系统、模块、层、服务等）及其交互方式。它关注的是系统的整体骨架。
	- 抽象层级高，面向系统级设计 
	- 影响整个系统的可扩展性、可维护性、性能、安全等质量属性
	- 通常在项目初期确定，变更成本较高

> **为什么这里涉及到架构模式？**
> 一般来说，站在拓展Java面向对象程序设计的角度上，学习设计模式是很有必要的，但是考虑到后面即将学习的Spring框架系列，以及未来的实际项目开发，同时学习一些必要的架构设计知识也是很重要的；就像我们不能只学习怎么砌砖就开始盖房子，而是也需要学习一些框架构建和墙体结构知识一样。
> 不仅如此，在目前的AI时代下，很多普通开发项目的代码编写工作已经能很好地让AI来实现；如何设计合适的数据结构和软件架构，从编写代码转向架构设计等更上层的工作，或许是我们提高竞争力和技术水平的突破口之一。

我们来详细了解一下这两个模式各自的内容：

# 一、设计模式[^1]

## 1.概述

设计模式，即Design Patterns，是指在软件设计中，被反复使用的一种代码设计经验。使用设计模式的目的是为了可重用代码，提高代码的可扩展性和可维护性。

设计模式这个术语是上个世纪90年代由Erich Gamma、Richard Helm、Raplh Johnson和Jonhn Vlissides四个人总结提炼出来的，并且写了一本[Design Patterns](https://book.douban.com/subject/1436745/)的书。这四人也被称为四人组（GoF）。

在软件开发中，要实现可维护、可扩展，就必须尽量复用代码，并且降低代码的耦合度。设计模式主要是基于OOP编程提炼的，它基于以下几个原则：

### ① 开闭原则

由Bertrand Meyer提出的开闭原则（Open Closed Principle）是指，软件应该对扩展开放，而对修改关闭。这里的意思是在增加新功能的时候，能不改代码就尽量不要改，如果只增加代码就完成了新功能，那是最好的。

### ② 里氏替换原则

里氏替换原则是Barbara Liskov提出的，这是一种面向对象的设计原则，即如果我们调用一个父类的方法可以成功，那么替换成子类调用也应该完全可以运行。

设计模式把一些常用的设计思想提炼出一个个模式，然后给每个模式命名，这样在使用的时候更方便交流。GoF把23个常用模式分为**创建型模式**、**结构型模式**和**行为型模式**三类，后续会逐一解释。

> 学习设计模式，关键是学习设计思想，不能简单地生搬硬套，也不能为了使用设计模式而过度设计，要合理平衡设计的复杂度和灵活性，并意识到设计模式也并不是万能的。

## 2.创建型模式

创建型模式关注点是如何创建对象，其核心思想是要把对象的创建和使用相分离，这样使得两者能相对独立地变换。

### ① 工厂方法：Factory Method

工厂方法即Factory Method，是一种对象创建型模式。核心理念是定义一个用于创建对象的接口，让子类决定实例化哪一个类（类似于工厂中，通过同一套设备能产生各种规格的产品；实际出售的是多样化的产品而不是生产设备）。

### ② 抽象工厂：Abstract Factory



### ③ 建造者：Builder



### ④ 原型：Prototype



### ⑤ 单例：Singleton

## 3.结构型模式



## 4.行为型模式







# 二、架构模式

一般来说，想要开发一个实际的应用程序，我们通常需要解决这样的两个主要问题：

- 如何将软件的主要功能划分为独立的大模块（模块拆分），如何处理这些模块之间的交互（接口设计），以及如何设计软件中大量数据的结构和关系，如何设计数据库的架构？
- 如何处理客户端与服务端的运行和交互，让程序更安全、稳定地运行，且达到较理想的资源占用和运行效率？

可以看出，“架构模式”主要考虑软件项目在开发初期和投入运行这两个时期的结构和组织形式，我们分别称为**逻辑架构**（Logical Architecture）和**运行时架构**（Runtime Architecture）；这个是绝对重点，很多资料在这一方面都写得不是很完善。

## 1.逻辑架构

逻辑架构主要关注的是系统的高层次设计，强调系统功能模块的划分和组织。它通常与业务需求、模块的职责分配、系统的组件间交互方式密切相关。它是软件系统的抽象视图，定义了系统的组织结构和组件之间的接口关系，但不涉及具体的实现细节。

从逻辑架构的角度，我们关注系统如何划分为不同的模块，以及这些模块如何协调工作。逻辑架构既包含**系统如何拆分为模块，模块间如何通信**，也包含**表现层和UI层的设计**，我们将它们视为两条正交的分类轴，分别称之为**系统级的逻辑职责划分轴**和**表现层/客户端内部的人机交互结构轴**。

### ① 逻辑职责划分轴

这一轴关注的是整个系统如何拆分以及各个系统层次或组件如何进行通信和协作。常见的架构模式包括：

1. **分层架构（Layered Architecture）**
    - **概述**：分层架构将系统的功能分成若干层，每层负责特定的任务。常见的分层有：表示层、业务逻辑层、数据访问层等。
    - **优点**：模块化、松耦合、易于维护和扩展。
    - **适用场景**：Web应用、企业级应用。
2. **客户端-服务器架构（Client-Server Architecture）**
    - **概述**：客户端-服务器架构将系统分为客户端和服务器，客户端负责用户交互，服务器负责处理数据和业务逻辑。
	- **优点**：集中管理、易于更新和维护服务器端。    
    - **适用场景**：网络应用、分布式系统。
3. **微服务架构（Microservices Architecture）**
    - **概述**：微服务架构将系统划分为一系列小的、独立的服务，每个服务负责特定的业务功能。这些服务通常通过API进行通信。
    - **优点**：灵活、易于扩展和维护、可以独立部署和升级。        
    - **适用场景**：大规模分布式系统、云原生应用。
4. **事件驱动架构（Event-Driven Architecture, EDA）**
    - **概述**：事件驱动架构是一种基于事件流的架构模式，系统通过事件（如用户操作、状态变化等）来驱动组件之间的交互。
    - **优点**：松耦合、适应动态变化、易于扩展。
    - **适用场景**：实时系统、流媒体应用、金融交易系统。
5. **管道-过滤器架构（Pipes and Filters Architecture）**
    - **概述**：管道-过滤器架构将系统分为若干个独立的过滤器，每个过滤器负责数据处理中的一个步骤，数据通过管道在各个过滤器之间流动。 
    - **优点**：模块化、可重用、易于扩展。
    - **适用场景**：数据流处理、流媒体应用。
6. **面向服务架构（SOA，Service-Oriented Architecture）**
    - **概述**：SOA通过将系统功能封装为一组服务（如Web服务），并通过标准化接口进行交互，来实现松耦合的系统设计。
    - **优点**：可重用、跨平台支持、灵活性高。
    - **适用场景**：企业级系统、大型分布式应用。


这些架构模式更多的是从宏观上对整个系统的拆分和各层/组件之间的协作进行规划，通常与运行时架构密切相关。

### ② 人机交互结构轴

这一轴关注的是**表现层**和**用户界面**（UI）的设计，尤其是Model和View之间如何交互。常见的架构模式包括：

- **MVC（Model-View-Controller）**
	- 将应用程序分为三个部分：Model（数据和业务逻辑）、View（用户界面）和Controller（业务逻辑和用户输入的处理器）。
- **MVVM（Model-View-ViewModel）**
	- 与MVC类似，但引入了ViewModel层，它作为Model和View之间的中介，处理数据绑定和双向交互。
- **MVP（Model-View-Presenter）**
	- 类似于MVC，但Presenter取代Controller，负责处理UI逻辑和更新View。
- **PAC（Presentation-Abstraction-Control）**
	- 将应用分为三个层次，分别处理表现、抽象逻辑和控制流。
- **Flux**
	- 一种数据流架构，通常与React一起使用，强调单向数据流，管理应用的状态。

这些模式专注于**如何组织表现层和界面的交互结构**，尤其是如何保持Model和View之间的同步，确保界面的动态更新和数据的有效处理。

### ③ 两个轴上各种架构的关系

**MVC**、**MVVM**等并不是独立于系统架构的，它们可以与传统的**分层架构**、**C/S架构**等系统级架构组合使用，从而实现更高效的系统组织和用户界面管理。

#### **Web 后端架构：三层架构 + MVC**

在Web应用中，常见的组合是：

- **三层架构**（表示层、业务逻辑层、数据访问层）：负责将系统进行高层次的划分，分别处理前端请求、业务处理和数据存取。
- 在**表示层**（前端数据处理）中，通常会使用**MVC架构**来组织用户界面和与业务逻辑的交互。表现层（View）将显示数据，Controller负责用户输入，Model与数据交互。

例如，**Web应用的后端**通常采用经典的“三层架构”模式，表示层通过**MVC模式**细化为“模型（Model）-视图（View）-控制器（Controller）”，使得系统在逻辑架构上按三层进行拆分，而在表现层内通过MVC对界面进行组织和管理。

#### **客户端架构：MVVM + 客户端-服务端**

在桌面应用或移动应用中，客户端通常采用**客户端-服务端架构**（C/S），而客户端内部的用户界面通常使用**MVVM架构**来组织数据和视图的交互。

- **C/S架构**：客户端（如桌面应用或移动端应用）与服务端进行通信，客户端处理用户界面，服务端负责业务逻辑和数据存储。
- **MVVM架构**：客户端的UI（表现层）使用**MVVM**来管理视图和数据的交互。ViewModel层通过数据绑定机制处理Model与View之间的同步，简化了UI逻辑和数据处理的耦合。

例如，现代的移动应用（如Android或iOS）通常采用**C/S架构**，客户端（App）与后端服务器进行通信。为了增强可维护性和可测试性，客户端使用**MVVM架构**来组织视图和数据的交互，尤其是在富客户端应用中，数据绑定和双向交互非常常见。

## 2.运行时架构

运行时架构则关注系统的实际运行环境，强调组件如何在运行时交互和协作。它着眼于系统在实际运行中的状态、通信模式、资源管理和性能。运行时架构通常涉及进程、线程、网络通信等具体实现细节，是对逻辑架构的一种具体化。

从运行时架构的角度，我们主要关注组件的执行方式和交互方式。常见的运行时架构模式包括：

1. **单体架构（Monolithic Architecture）**
    - **概述**：单体架构是一种所有功能模块在同一个进程中运行的架构模式，所有模块的代码和数据通常在一个代码库中。
    - **优点**：开发简单，部署方便，适合小型系统。
    - **缺点**：扩展困难，单点故障，难以维护。
    - **适用场景**：小型项目、初创公司快速开发。
2. **分布式架构（Distributed Architecture）**
    - **概述**：分布式架构将系统分布到多个物理或虚拟的机器上，组件间通过网络进行通信。每个节点可能处理不同的业务逻辑或存储不同的数据。
    - **优点**：可扩展性强、容错性好、适应大规模数据处理。
    - **适用场景**：大规模系统、云计算环境。
3. **消息队列架构（Message Queue Architecture）**
    - **概述**：消息队列架构基于消息队列来传递数据，组件之间通过异步消息传递进行通信，降低了组件之间的耦合度。
    - **优点**：异步、解耦、可扩展。
    - **适用场景**：高并发系统、实时数据处理。
4. **主从架构（Master-Slave Architecture）**
    - **概述**：主从架构将系统分为主节点和从节点，主节点负责主要的业务逻辑处理，而从节点负责副本、备份和分担负载。
    - **优点**：负载均衡、容错性好。
    - **适用场景**：数据库集群、大规模数据存储系统。
5. **微内核架构（Microkernel Architecture）**
    - **概述**：微内核架构将系统的核心功能最小化，其它功能作为插件形式存在，插件可以动态加载，微内核仅负责核心调度和管理。
    - **优点**：灵活、可扩展、插件化。
    - **适用场景**：操作系统、插件化应用系统。
6. **虚拟机架构（Virtual Machine Architecture）**
    - **概述**：虚拟机架构通过虚拟化技术将物理资源抽象化，多个虚拟机在同一物理主机上运行，各虚拟机之间互相隔离。        
    - **优点**：资源隔离、提高资源利用率。
    - **适用场景**：云计算、容器化部署。

## 3.其他的一些架构

除了**逻辑架构**和**运行时架构**之外，软件架构模式还有以下几个重要的层次或视角，通常在设计复杂系统时也会考虑这些层次：

1. **物理架构（Physical Architecture）**
	- **概述**：物理架构关注系统的硬件、网络拓扑、部署方案等物理资源。它定义了系统中各个组件的部署位置和如何通过硬件资源进行通信。
	- **作用**：物理架构通常描述了服务器的配置、负载均衡、网络分布等内容，是对运行时架构的一种具体化，确保系统能够高效地运行在预期的硬件环境中。
	- **常见模式**：
		- 集群架构
		- 云原生架构（例如微服务部署在容器化环境中）
		- 基于虚拟化的架构
2. **开发架构（Development Architecture）**
	- **概述**：开发架构关注软件的开发过程、工具链和开发人员如何协作。它描述了开发团队如何进行版本控制、代码构建、自动化测试等开发活动。
	- **作用**：这种架构决定了开发流程的高效性和可维护性，影响开发团队的协作方式和开发工具的选择。
	- **常见模式**：
		- 持续集成/持续部署（CI/CD）
		- GitFlow或Trunk-Based Development等开发流程
		- 自动化测试和代码质量检查
3. **安全架构（Security Architecture）**
	- **概述**：安全架构专注于系统的安全需求，设计安全性功能，如身份验证、权限控制、数据加密、入侵检测等。
	- **作用**：它确保系统能够有效抵抗各种攻击，保护数据隐私，保障系统的完整性。
	- **常见模式**：
		- 零信任架构（Zero Trust Architecture）
		- 身份和访问管理（IAM）
		- 数据加密与防泄漏
4. **业务架构（Business Architecture）**
	- **概述**：业务架构关注的是系统的业务流程和组织架构，它帮助理解系统的业务需求，并确保技术架构与业务目标对齐。
	- **作用**：业务架构将业务目标与技术架构联系起来，确保开发的系统能够有效支持业务需求的实现。
	- **常见模式**：
		- 面向服务的架构（SOA）
		- 企业架构（Enterprise Architecture）
		- 业务流程管理（BPM）
5. **数据架构（Data Architecture）**
	- **概述**：数据架构专注于如何设计、存储、访问和管理数据。它定义了数据的流动、存储方式和数据之间的关系。
	- **作用**：确保数据高效流动，存储方案合理，且能够支持应用的查询和分析需求。
	- **常见模式**：
		- 数据湖（Data Lake）
		- 数据仓库（Data Warehouse）
		- 微服务中的事件溯源（Event Sourcing）

> 这里由于本系列笔记主题仍然是Java开发，且受限于篇幅，只介绍了架构模式中的一些常见模式，主要是希望以后见到这些词时，能反应出它们在软件架构体系中具体的层次和位置；未来或将专题学习软件架构方面的知识并推出专题笔记。以下是一些软件架构推荐学习书籍：

## 4.推荐书单[^2]

### **《架构整洁之道》**

![](https://pic4.zhimg.com/v2-2be4b2dc42e10d64b33875e0d5aa08ed_1440w.webp?consumer=ZHI_MENG)

- 本书是创造“Clean神话”的Bob大叔在架构领域的登峰之作，围绕“架构整洁”这一重要导向，系统地剖析其缘起、内涵及应用场景，涵盖软件研发完整过程及所有核心架构模式。
- 作者Robert C. Martin，是Object Mentor公司总裁，面向对象设计、模式、UML、敏捷方法学和极限编程领域的资深顾问。

### **《架构师修炼之道》**

![](https://pica.zhimg.com/v2-2c226f6f35eaed05f949dec144a6dc48_1440w.webp?consumer=ZHI_MENG)

- 本书教你像架构师那样思考问题、理解需求、设计架构、评估结果、编写文档。本书不但通过真实案例讲解架构设计流程和 经验，还总结了丰富的架构师工作原 则和技巧，尤其适合广大程序员进阶学习。同时也有助于产品经理、测试人员、运维人员和其他行业从业者理解软件架构设计工作。
- 作者Michael Keeling，卡内基梅隆大学知名校友、IBM人工智能系统Watson的软件架构师，具有多年软件架构设计经验。

### **《软件架构设计：大型网站技术架构与业务架构融合之道》**

![](https://pic1.zhimg.com/v2-d6cce12f259f1395f4b5f4df653e1cba_1440w.webp?consumer=ZHI_MENG)

- 本书围绕软件架构设计，系统化地梳理技术架构与业务架构的方法论与实践。通过本书，读者可以对业务软件的架构方法学有全局的认识，同时对软件架构的核心能力有深刻的理解，对个人的技术成长起到一定的借鉴作用。本书不仅适合工程师、架构师阅读，也适合企业系统开发人员在内的软件开发从业人员阅读。
- 作者余春龙，中科院软件所计算机硕士毕业，热衷于高并发高可用架构、业务建模、领域驱动设计，在十年的工作中，做过游戏、社交、广告、电商等各种类型项目，积累了丰富的工程经验。

### **《数据密集型应用系统设计》**

![](https://pic2.zhimg.com/v2-ad1d533c3976e47e251b1cee04e5f32f_1440w.webp?consumer=ZHI_MENG)

- 本书是《 Designing Data-Intensive Applications》的中文版本。本书主要讨论有关增强数据密集型应用系统所需的若干基本原则，以及从单机的数据存储转向跨机器的分布式系统。
- 作者：Martin Kleppmann，英国剑桥大学分布式系统方向的研究员。

### **《企业应用架构模式》**

![](https://pic3.zhimg.com/v2-aad3d2ddf5556bc5e004660b358e92d6_1440w.webp?consumer=ZHI_MENG)

- 本书作者是当今面向对象软件开发的权威，他在一组专家级合作者的帮助下，将40多种经常出现的解决方案转化成模式，最终写成这本能够应用于任何一种企业应用平台的、关于解决方案的、不可或缺的手册。
- 本书是为致力于设计和构建企业应用的软件架构师、设计人员和编程人员而写的，同时也可作为高等院校计算机专业及软件学院相关课程的参考教材。
- 作者Martin Fowler，独立咨询顾问，他运用对象技术解决企业问题已经超过十年。

### **《架构即未来：现代企业可扩展的Web架构、流程和组织》**

![](https://pic1.zhimg.com/v2-2c948a70804ca44980ea618790f6f570_1440w.webp?consumer=ZHI_MENG)

- 本书汇聚了作者从eBay、VISA到Apple超过30年的丰富经验，全面阐释了经过验证的信息技术扩展方法，对所需要掌握的产品和服务的平滑扩展做了详尽的论述，并在第1版的基础上更新了扩展的策略、技术和案例。
- 作者：
	- 马丁∙阿伯特（Martin L. Abbott） ，AKF公司的初创合伙人，曾任Quigo（广告技术初创公司，后来被AOL收购）的首席运营官，负责领导产品策略、产品管理、技术研发和客户服务。
	- 迈克∙费舍尔（Michael T. Fisher ），AKF公司的初创合伙人，曾任Quigo首席技术官，PayPal负责工程和架构的副总裁。

### **《领域驱动设计 : 软件核心复杂性应对之道》**

![](https://pic1.zhimg.com/v2-bac1fe8f39a8dac70ae57c917e8b2b90_1440w.webp?consumer=ZHI_MENG)

- 本书是领域驱动设计方面的经典之作。本书围绕着设计和开发实践，结合若干真实的项目案例，向读者阐述如何在真实的软件开发中应用领域驱动设计。本书适合各层次的面向对象软件开发人员、系统分析员阅读。
- 作者Eric Evans，「领域驱动设计之父」，世界杰出软件建模专家。

--- 
# 参考资料

[^1]: 廖雪峰的官方网站.Java教程\[EB/OL].(2025-06-07)\[2025-08-21]. https://liaoxuefeng.com/books/java/introduction/index.html
[^2]: 钱嘟嘟左卫门.10本架构设计学习书籍推荐\[EB/OL].(2024-10-18)\[2025-10-12]. https://www.zhihu.com/tardis/zm/art/386714088?source_id=1005