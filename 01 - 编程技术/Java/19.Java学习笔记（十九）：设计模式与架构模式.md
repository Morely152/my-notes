---

---
--- 
> 声明：本篇笔记部分摘自[《Java核心技术（卷Ⅰ） - 机械工业出版社》](https://detail.tmall.com/item.htm?ali_refid=a3_420434_1006%3A1151895243%3AN%3AoB1xLXSDdjSpCunkFwpZbCtvD%2B6YEaA9%3A39f8fcdda956d1ec63523e9a6e9e2355&id=708821240842&mi_id=0000mg2-P7Ustbzeym2_6DxuUMLCpndkVCAGc5EaA_l8QQ0&mm_sceneid=1_0_128421313_0&priceTId=2147831a17554253371677975e1dca&spm=a21n57.1.hoverItem.2&utparam=%7B%22aplus_abtest%22%3A%226b956865e0df43cd4a6620880d877f11%22%7D&xxc=ad_ztc)及[Java教程-廖雪峰-2025-06-16](https://liaoxuefeng.com/books/java/introduction/index.html)，遵循[CC BY 4.0协议](https://creativecommons.org/licenses/by/4.0/legalcode.zh-hans)。
> 存在由AI生成的小部分内容，仅供参考，请仔细甄别可能存在的错误。
--- 

在软件开发中，**设计模式**和**架构模式**是两个重要的概念，它们帮助开发人员解决不同层次的问题。

- **设计模式（Design Pattern）**：是中低层级的、局部性的解决方案，用于解决类与对象之间的交互问题，提高代码的可复用性、可扩展性、可维护性。
	- 抽象层级较低，面向类/对象级设计
	- 解决的是局部问题，如对象创建、行为封装、接口设计等
	- 通常在编码阶段使用，变更成本较低

- **架构模式（Architectural Pattern）**：是高层级的、全局性的结构设计，定义了系统的主要组成部分（子系统、模块、层、服务等）及其交互方式。它关注的是系统的整体骨架。
	- 抽象层级高，面向系统级设计 
	- 影响整个系统的可扩展性、可维护性、性能、安全等质量属性
	- 通常在项目初期确定，变更成本较高

> **为什么这里涉及到架构模式？**
> 一般来说，站在拓展Java面向对象程序设计的角度上，学习设计模式是很有必要的，但是考虑到后面即将学习的Spring框架系列，以及未来的实际项目开发，同时学习一些必要的架构设计知识也是很重要的；就像我们不能只学习怎么砌砖就开始盖房子，而是也需要学习一些框架结构的设计知识一样。
> 不仅如此，在目前的AI时代下，很多普通开发项目的代码编写工作已经能很好地让AI来实现；如何设计合适的数据结构和软件架构，从编写代码转向设计代码，或许是我们提高竞争力和技术水平的突破口之一。

我们来详细了解一下这两个模式各自的内容：

# 一、设计模式



# 二、架构模式

一般来说，想要开发一个实际的应用程序，我们通常需要解决这样的两个主要问题：

- 如何将软件的主要功能划分为独立的大模块（模块拆分），如何处理这些模块之间的交互（接口设计），以及如何设计软件中大量数据的结构和关系，如何设计数据库的架构？
- 如何处理客户端与服务端的运行和交互，让程序更安全、稳定地运行，且达到较理想的资源占用和运行效率？

可以看出，“架构模式”主要考虑软件项目在开发初期和投入运行这两个时期的结构和组织形式，我们分别称为**逻辑架构**（Logical Architecture）和**运行时架构**（Runtime Architecture）；这个是绝对重点，很多资料在这一方面都写得不是很完善。

## 1.逻辑架构

逻辑架构主要关注的是系统的高层次设计，强调系统功能模块的划分和组织。它通常与业务需求、模块的职责分配、系统的组件间交互方式密切相关。它是软件系统的抽象视图，定义了系统的组织结构和组件之间的接口关系，但不涉及具体的实现细节。

从逻辑架构的角度，我们关注系统如何划分为不同的模块，以及这些模块如何协调工作。逻辑架构既包含**系统如何拆分为模块，模块间如何通信**，也包含**表现层和UI层的设计**，我们将它们视为两条正交的分类轴，分别称之为**系统级的逻辑职责划分轴**和**表现层/客户端内部的人机交互结构轴**。

### ① 逻辑职责划分轴

这一轴关注的是整个系统如何拆分以及各个系统层次或组件如何进行通信和协作。常见的架构模式包括：

1. **分层架构（Layered Architecture）**
    - **概述**：分层架构将系统的功能分成若干层，每层负责特定的任务。常见的分层有：表示层、业务逻辑层、数据访问层等。
    - **优点**：模块化、松耦合、易于维护和扩展。
    - **适用场景**：Web应用、企业级应用。
2. **客户端-服务器架构（Client-Server Architecture）**
    - **概述**：客户端-服务器架构将系统分为客户端和服务器，客户端负责用户交互，服务器负责处理数据和业务逻辑。
	- **优点**：集中管理、易于更新和维护服务器端。    
    - **适用场景**：网络应用、分布式系统。
3. **微服务架构（Microservices Architecture）**
    - **概述**：微服务架构将系统划分为一系列小的、独立的服务，每个服务负责特定的业务功能。这些服务通常通过API进行通信。
    - **优点**：灵活、易于扩展和维护、可以独立部署和升级。        
    - **适用场景**：大规模分布式系统、云原生应用。
4. **事件驱动架构（Event-Driven Architecture, EDA）**
    - **概述**：事件驱动架构是一种基于事件流的架构模式，系统通过事件（如用户操作、状态变化等）来驱动组件之间的交互。
    - **优点**：松耦合、适应动态变化、易于扩展。
    - **适用场景**：实时系统、流媒体应用、金融交易系统。
5. **管道-过滤器架构（Pipes and Filters Architecture）**
    - **概述**：管道-过滤器架构将系统分为若干个独立的过滤器，每个过滤器负责数据处理中的一个步骤，数据通过管道在各个过滤器之间流动。 
    - **优点**：模块化、可重用、易于扩展。
    - **适用场景**：数据流处理、流媒体应用。
6. **面向服务架构（SOA，Service-Oriented Architecture）**
    - **概述**：SOA通过将系统功能封装为一组服务（如Web服务），并通过标准化接口进行交互，来实现松耦合的系统设计。
    - **优点**：可重用、跨平台支持、灵活性高。
    - **适用场景**：企业级系统、大型分布式应用。


这些架构模式更多的是从宏观上对整个系统的拆分和各层/组件之间的协作进行规划，通常与运行时架构密切相关。

### ② 人机交互结构轴

这一轴关注的是**表现层**和**用户界面**（UI）的设计，尤其是Model和View之间如何交互。常见的架构模式包括：

- **MVC（Model-View-Controller）**
	- 将应用程序分为三个部分：Model（数据和业务逻辑）、View（用户界面）和Controller（业务逻辑和用户输入的处理器）。
- **MVVM（Model-View-ViewModel）**
	- 与MVC类似，但引入了ViewModel层，它作为Model和View之间的中介，处理数据绑定和双向交互。
- **MVP（Model-View-Presenter）**
	- 类似于MVC，但Presenter取代Controller，负责处理UI逻辑和更新View。
- **PAC（Presentation-Abstraction-Control）**
	- 将应用分为三个层次，分别处理表现、抽象逻辑和控制流。
- **Flux**
	- 一种数据流架构，通常与React一起使用，强调单向数据流，管理应用的状态。

这些模式专注于**如何组织表现层和界面的交互结构**，尤其是如何保持Model和View之间的同步，确保界面的动态更新和数据的有效处理。

### ③ 两个轴上各种架构的关系

**MVC**、**MVVM**等并不是独立于系统架构的，它们可以与传统的**分层架构**、**C/S架构**等系统级架构组合使用，从而实现更高效的系统组织和用户界面管理。

#### **Web 后端架构：三层架构 + MVC**

在Web应用中，常见的组合是：

- **三层架构**（表示层、业务逻辑层、数据访问层）：负责将系统进行高层次的划分，分别处理前端请求、业务处理和数据存取。
- 在**表示层**（前端数据处理）中，通常会使用**MVC架构**来组织用户界面和与业务逻辑的交互。表现层（View）将显示数据，Controller负责用户输入，Model与数据交互。

例如，**Web应用的后端**通常采用经典的“三层架构”模式，表示层通过**MVC模式**细化为“模型（Model）-视图（View）-控制器（Controller）”，使得系统在逻辑架构上按三层进行拆分，而在表现层内通过MVC对界面进行组织和管理。

#### **客户端架构：MVVM + 客户端-服务端**

在桌面应用或移动应用中，客户端通常采用**客户端-服务端架构**（C/S），而客户端内部的用户界面通常使用**MVVM架构**来组织数据和视图的交互。

- **C/S架构**：客户端（如桌面应用或移动端应用）与服务端进行通信，客户端处理用户界面，服务端负责业务逻辑和数据存储。
- **MVVM架构**：客户端的UI（表现层）使用**MVVM**来管理视图和数据的交互。ViewModel层通过数据绑定机制处理Model与View之间的同步，简化了UI逻辑和数据处理的耦合。

例如，现代的移动应用（如Android或iOS）通常采用**C/S架构**，客户端（App）与后端服务器进行通信。为了增强可维护性和可测试性，客户端使用**MVVM架构**来组织视图和数据的交互，尤其是在富客户端应用中，数据绑定和双向交互非常常见。

## 2.运行时架构

运行时架构则关注系统的实际运行环境，强调组件如何在运行时交互和协作。它着眼于系统在实际运行中的状态、通信模式、资源管理和性能。运行时架构通常涉及进程、线程、网络通信等具体实现细节，是对逻辑架构的一种具体化。

从运行时架构的角度，我们主要关注组件的执行方式和交互方式。常见的运行时架构模式包括：

1. **单体架构（Monolithic Architecture）**
    - **概述**：单体架构是一种所有功能模块在同一个进程中运行的架构模式，所有模块的代码和数据通常在一个代码库中。
    - **优点**：开发简单，部署方便，适合小型系统。
    - **缺点**：扩展困难，单点故障，难以维护。
    - **适用场景**：小型项目、初创公司快速开发。
2. **分布式架构（Distributed Architecture）**
    - **概述**：分布式架构将系统分布到多个物理或虚拟的机器上，组件间通过网络进行通信。每个节点可能处理不同的业务逻辑或存储不同的数据。
    - **优点**：可扩展性强、容错性好、适应大规模数据处理。
    - **适用场景**：大规模系统、云计算环境。
3. **消息队列架构（Message Queue Architecture）**
    - **概述**：消息队列架构基于消息队列来传递数据，组件之间通过异步消息传递进行通信，降低了组件之间的耦合度。
    - **优点**：异步、解耦、可扩展。
    - **适用场景**：高并发系统、实时数据处理。
4. **主从架构（Master-Slave Architecture）**
    - **概述**：主从架构将系统分为主节点和从节点，主节点负责主要的业务逻辑处理，而从节点负责副本、备份和分担负载。
    - **优点**：负载均衡、容错性好。
    - **适用场景**：数据库集群、大规模数据存储系统。
5. **微内核架构（Microkernel Architecture）**
    - **概述**：微内核架构将系统的核心功能最小化，其它功能作为插件形式存在，插件可以动态加载，微内核仅负责核心调度和管理。
    - **优点**：灵活、可扩展、插件化。
    - **适用场景**：操作系统、插件化应用系统。
6. **虚拟机架构（Virtual Machine Architecture）**
    - **概述**：虚拟机架构通过虚拟化技术将物理资源抽象化，多个虚拟机在同一物理主机上运行，各虚拟机之间互相隔离。        
    - **优点**：资源隔离、提高资源利用率。
    - **适用场景**：云计算、容器化部署。

## 3.其他的一些架构

除了**逻辑架构**和**运行时架构**之外，软件架构模式还有以下几个重要的层次或视角，通常在设计复杂系统时也会考虑这些层次：

1. **物理架构（Physical Architecture）**
	- **概述**：物理架构关注系统的硬件、网络拓扑、部署方案等物理资源。它定义了系统中各个组件的部署位置和如何通过硬件资源进行通信。
	- **作用**：物理架构通常描述了服务器的配置、负载均衡、网络分布等内容，是对运行时架构的一种具体化，确保系统能够高效地运行在预期的硬件环境中。
	- **常见模式**：
		- 集群架构
		- 云原生架构（例如微服务部署在容器化环境中）
		- 基于虚拟化的架构
2. **开发架构（Development Architecture）**
	- **概述**：开发架构关注软件的开发过程、工具链和开发人员如何协作。它描述了开发团队如何进行版本控制、代码构建、自动化测试等开发活动。
	- **作用**：这种架构决定了开发流程的高效性和可维护性，影响开发团队的协作方式和开发工具的选择。
	- **常见模式**：
		- 持续集成/持续部署（CI/CD）
		- GitFlow或Trunk-Based Development等开发流程
		- 自动化测试和代码质量检查
3. **安全架构（Security Architecture）**
	- **概述**：安全架构专注于系统的安全需求，设计安全性功能，如身份验证、权限控制、数据加密、入侵检测等。
	- **作用**：它确保系统能够有效抵抗各种攻击，保护数据隐私，保障系统的完整性。
	- **常见模式**：
		- 零信任架构（Zero Trust Architecture）
		- 身份和访问管理（IAM）
		- 数据加密与防泄漏
4. **业务架构（Business Architecture）**
	- **概述**：业务架构关注的是系统的业务流程和组织架构，它帮助理解系统的业务需求，并确保技术架构与业务目标对齐。
	- **作用**：业务架构将业务目标与技术架构联系起来，确保开发的系统能够有效支持业务需求的实现。
	- **常见模式**：
		- 面向服务的架构（SOA）
		- 企业架构（Enterprise Architecture）
		- 业务流程管理（BPM）
5. **数据架构（Data Architecture）**
	- **概述**：数据架构专注于如何设计、存储、访问和管理数据。它定义了数据的流动、存储方式和数据之间的关系。
	- **作用**：确保数据高效流动，存储方案合理，且能够支持应用的查询和分析需求。
	- **常见模式**：
		- 数据湖（Data Lake）
		- 数据仓库（Data Warehouse）
		- 微服务中的事件溯源（Event Sourcing）




https://www.zhihu.com/tardis/zm/art/386714088?source_id=1005